# LeetCode Tracker (FastAPI + uv)

Небольшой веб‑сервис для геймифицированного трекинга задач LeetCode:
- форма добавления решённых задач;
- сохранение в базу данных (SQLite по умолчанию);
- интерактивные графики (Chart.js) продуктивности:
  - задач в день,
  - XP в день,
  - кумулятивный XP,
  - streak по дням;
- таблица последних задач.

## 1. Предварительно: установка `uv`

Если у тебя ещё нет `uv`:

```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
```

или через pip (менее предпочтительно):

```bash
pip install uv
```

Проверь:

```bash
uv --version
```

## 2. Установка проекта

Распакуй архив с проектом и перейди в каталог:

```bash
cd leetcode_tracker_uv
```

Установи зависимости (создастся виртуальное окружение, управляемое `uv`):

```bash
uv sync
```

## 3. Запуск сервера

Запусти приложение (FastAPI + Uvicorn) так:

```bash
uv run uvicorn leetcode_tracker.main:app --reload --host 0.0.0.0 --port 8000
```

После запуска открой в браузере:

- `http://localhost:8000` — основная страница (форма + таблица + графики)
- `http://localhost:8000/docs` — интерактивная документация API (Swagger UI)

## 4. Где хранится база данных

По умолчанию используется SQLite и файл `leetcode.db` создаётся в том каталоге,
из которого ты запускаешь команду `uv run ...`.

Если хочешь PostgreSQL или другой сервер:

1. Подними БД и создай пустую базу.
2. Укажи строку подключения в переменной окружения:

   ```bash
   export DATABASE_URL="postgresql+psycopg2://user:password@localhost:5432/leetcode"
   ```

3. Запусти снова:

   ```bash
   uv run uvicorn leetcode_tracker.main:app --reload
   ```

## 5. Настройка под себя

- Система очков сейчас задаётся вручную при добавлении задачи (`XP` в форме).
  Можно просто договориться с самим собой:
    - Easy = 1
    - Medium = 3
    - Hard = 5

- Логику streak / графиков можно расширять в `leetcode_tracker/main.py`
  в эндпоинте `/api/stats/daily`.

## 6. Импорт данных из Excel

Если нужно, можно написать отдельный скрипт `import_from_excel.py`, который:
- прочитает твой Excel;
- преобразует строки в объекты `SolvedTask`;
- сохранит в БД.

Скажи, если хочешь — я могу добавить этот скрипт отдельно.
